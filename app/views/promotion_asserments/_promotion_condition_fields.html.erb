<div class="bg-gray-50 rounded-lg shadow p-4">
  <div class="grid grid-cols-1 gap-y-4 sm:grid-cols-2 sm:gap-x-4" data-controller="promotion-condition">
    <div class="sm:col-span-2">
      <%= f.label :condition_type, class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.select :condition_type, 
          options_for_select([
            ['Single Course', 'single_course'],
            ['Multiple Courses', 'multiple_courses'],
            ['Overall Average', 'overall_average']
          ]), 
          {}, 
          { class: "text-gray-900 p-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",
            data: { action: "change->promotion-condition#conditionTypeChanged" } } %>
    </div>

    <div>
      <%= f.label :minimum_grade, class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.number_field :minimum_grade, step: '0.1', min: 1, max: 6, 
          class: "text-gray-900 p-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm" %>
    </div>

    <div>
      <%= f.label :weight, class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.number_field :weight, step: '0.01', min: 0, 
          class: "text-gray-900 p-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm" %>
    </div>

    <div class="sm:col-span-2">
      <div class="flex items-start">
        <div class="flex h-5 items-center">
          <%= f.check_box :required, class: "h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500" %>
        </div>
        <div class="ml-3 text-sm">
          <%= f.label :required, class: "font-medium text-gray-700" %>
          <p class="text-gray-500">Must this condition be met for promotion?</p>
        </div>
      </div>
    </div>

    <div class="sm:col-span-2" data-promotion-condition-target="courseSelection">
      <%= f.label :course_ids, "Related Courses", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.collection_select :course_ids, Course.all, :id, :name, 
          { prompt: "Select courses" }, 
          { multiple: true, class: "text-gray-900 p-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm" } %>
    </div>

    <% if f.object.persisted? %>
      <div class="sm:col-span-2 pt-3 border-t border-gray-200">
        <%= f.check_box :_destroy %>
        <%= f.label :_destroy, "Remove this condition", class: "ml-2 text-sm text-red-600" %>
      </div>
    <% end %>
  </div>
</div>