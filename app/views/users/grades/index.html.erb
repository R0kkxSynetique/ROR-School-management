<% content_for :title, "My Grades" %>

<div class="container mx-auto px-4 py-8">
  <h1 class="text-3xl font-bold mb-8 text-transparent bg-clip-text bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500">
    My Grades
  </h1>

  <div class="bg-gray-800 shadow-xl rounded-xl overflow-hidden border border-gray-700 backdrop-blur-lg bg-opacity-50">
    <div class="overflow-x-auto">
      <table class="min-w-full divide-y divide-gray-700">
        <thead class="bg-gray-900 bg-opacity-40">
          <tr>
            <th class="px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Course</th>
            <th class="px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Examination</th>
            <th class="px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Grade</th>
            <th class="px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Date</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-gray-700">
          <% @grades.each do |grade| %>
            <tr class="hover:bg-gray-700 transition duration-150">
              <td class="px-6 py-4 whitespace-nowrap">
                <div class="flex items-center">
                  <div class="flex-shrink-0">
                    <div class="h-8 w-8 rounded-full bg-indigo-600 flex items-center justify-center">
                      <span class="text-xs font-medium text-white">
                        <%= grade.examination.course.name[0] %>
                      </span>
                    </div>
                  </div>
                  <div class="ml-4">
                    <div class="text-sm font-medium text-gray-100">
                      <%= grade.examination.course.name %>
                    </div>
                  </div>
                </div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap">
                <div class="text-sm text-gray-100"><%= grade.examination.title %></div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap">
                <% grade_color = case grade.value
                   when 90..100 then "bg-green-900 text-green-200"
                   when 80..89 then "bg-blue-900 text-blue-200"
                   when 70..79 then "bg-yellow-900 text-yellow-200"
                   else "bg-red-900 text-red-200"
                   end %>
                <span class="px-3 py-1 inline-flex text-sm leading-5 font-semibold rounded-full <%= grade_color %>">
                  <%= grade.value %>
                </span>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-400">
                <%= grade.effective_date.strftime("%B %d, %Y") %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>
